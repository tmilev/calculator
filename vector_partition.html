<HTML>
<HEAD><TITLE>Vector partition</TITLE>
<script type="text/javascript" src="./../../wz_jsgraphics.js"></script>
</HEAD>
<META http-equiv="Content-Script-Type" content="text/javascript">
<BODY>
<FORM method="POST" name="formMain" action="./../../bin/Debug/vector_partition_linux_cgi.cgi">
Dimension: <input type="text" size ="1" name="textDim" onkeyup="generatePageFromDimAndNum(this.value,formMain.textNumVectors.value,this.size);">
Num Vectors: <input type="text" size="1" name="textNumVectors"><input type="submit" name="buttonGo" value="Go">
</FORM>	
<input type="button" name="buttonTest" value="Draw" onclick="drawTest();" >

<div id="canvasMain" style="position:relative;height:250px;width:100%;"></div>
<script type="text/javascript">
	var oldDimension=-1;
	var oldNumVectors=-1;
	var NumElements=0;
	var jsMain= new jsGraphics("canvasMain");
	function drawTest()
	{ alert("");
		jsMain.drawLine(10,10,150,150);
		//jsMain.paint();
	}		
	function generatePageFromDimAndNum(inputDim,inputNum,posIntextDim)
	{ dim = Number(inputDim);
		num = Number(inputNum);
//		alert("dim: "+dim+" num: "+num);
		if (dim<1 || dim>3 || num>8 || num<1)
		{	return;
		}
		if ((oldDimension!=dim) || (oldNumVectors!=num))
		{	oldDimension=dim;
			oldNumVectors=num;
			document.formMain.textDim.value=dim;
			document.formMain.textNumVectors.value=num;
			totalCoords=dim*num+num+1;
			if (NumElements!=totalCoords)
			{	firstChildinLine=document.formMain.firstChild;
				for (i=0;i<4;i++)				
				{	firstChildinLine=firstChildinLine.nextSibling;			
				}
	//			alert("Num elements to be killed:"+ NumElements);			
				for(i=0;i<NumElements;i++)
				{ nextchild=firstChildinLine.nextSibling;
					//alert(firstChildinLine.value);
					document.formMain.removeChild(firstChildinLine);
					firstChildinLine=nextchild;
				}
				NumElements=totalCoords;
				mytext=document.createElement("br");					
				document.formMain.insertBefore(mytext,formMain.buttonGo);				
				for (i=0;i<num;i++)
				{ for (j=0;j<dim;j++)
					{	mytext=document.createElement("input");					
						mytext.type="text";
						mytext.name= "textCoord"+i;
						mytext.value=rootsArray[i][j];
						mytext.size=1;
						document.formMain.insertBefore(mytext,formMain.buttonGo);				
					}
					mytext=document.createElement("br");					
					document.formMain.insertBefore(mytext,formMain.buttonGo);				
				}
				NumElements=totalCoords;
			}			
		}
	}
</script>

